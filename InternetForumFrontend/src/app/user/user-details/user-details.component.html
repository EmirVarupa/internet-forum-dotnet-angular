<section fxLayoutAlign="center center" fxLayout="column">
    <div *ngIf="user" class="card-user" fxLayout="row" fxLayoutAlign="space-between center">
        <div class="card" fxLayout="row">
            <mat-card-header>
                <img mat-card-avatar class="example-header-image" [src]="createImgPath(user.imageUrl)">
                <mat-card-title>{{user.username}}'s posts</mat-card-title>
                <mat-card-subtitle>{{user.firstName}} {{user.lastName}}</mat-card-subtitle>
            </mat-card-header>
        </div>
        <button *ngIf="userId == user.userId" mat-flat-button color="primary" (click)="editUser()">Edit your account</button>
    </div>

    <mat-card *ngFor="let post of posts" class="mat-elevation-z0">
        <div fxLayout="row" fxLayoutAlign="space-between begin">
            <div class="hover-link" routerLink="/details/{{post.community.communityId}}/{{post.postId}}">
                <mat-card-title class="title-link">{{ post.postTitle }}</mat-card-title>
                <mat-card-content>{{ post.postContent }} </mat-card-content>
            </div>
            <div fxLayout="row">
                <mat-card-subtitle>by {{username}}</mat-card-subtitle>
            </div>
        </div>
        <mat-card-actions div fxLayout="row" fxLayoutAlign="space-between none">
            <div>
                <button class="btn-inactive" mat-button color="primary" routerLink="/details/{{post.community.communityId}}/{{post.postId}}" fragment="comments">Comments</button>
            </div>
            <div>
                <button mat-button disabled>{{ post.viewsCount | shortNumber}} Views</button>
                <button mat-button disabled>6 hours ago</button>
            </div>
        </mat-card-actions>
    </mat-card>
</section>



<!-- 
<section fxLayoutAlign="center center" fxLayout="column">

    <div class="card-add" fxLayout="row" fxLayoutAlign="space-between center">
        <div class="card" fxLayout="row">
            <h1>{{communityName}}</h1>
            <button class="btn-join" *ngIf="!isJoined" mat-button color="primary" (click)="joinOrLeaveCommunity(true)">Join</button>
            <div (mouseover)="changeText=true" (mouseout)="changeText=false">
                <button class="btn-join" *ngIf="isJoined && !changeText" mat-button color="primary" (click)="joinOrLeaveCommunity(false)">Joined</button>
                <button class="btn-join" *ngIf="isJoined && changeText" mat-button color="accent" (click)="joinOrLeaveCommunity(false)">Leave</button>
            </div>
        </div>
        <button mat-flat-button color="primary" (click)="addPost()">Create Post</button>
    </div>

    <mat-card class="example-card" class="mat-elevation-z0">
        <mat-card-header>
            <div mat-card-avatar class="example-header-image"></div>
            <mat-card-title>Shiba Inu</mat-card-title>
            <mat-card-subtitle>Dog Breed</mat-card-subtitle>
        </mat-card-header>
        <img mat-card-image src="https://material.angular.io/assets/img/examples/shiba2.jpg" onError="angular.element(this).scope().product.img = false">
        <mat-card-content>
            <p>
                The Shiba Inu is the smallest of the six original and distinct spitz breeds of dog from Japan. A small, agile dog that copes very well with mountainous terrain, the Shiba Inu was originally bred for hunting.
            </p>
        </mat-card-content>
        <mat-card-actions>
            <button mat-button color="primary">Like</button>
            <button class="btn-inactive" mat-button>Comments</button>
        </mat-card-actions>
    </mat-card>
    <mat-card *ngFor="let post of posts" class="mat-elevation-z0">
        <div class="hover-link" routerLink="/details/{{post.postId}}">
            <mat-card-title class="title-link">{{ post.postTitle }}</mat-card-title>
            <mat-card-content>{{ post.postContent }} </mat-card-content>
        </div>
        <mat-card-actions div fxLayout="row" fxLayoutAlign="space-between none">
            <div>
                <button mat-icon-button color="primary" (click)="likePost(post)">
                    <mat-icon>expand_less</mat-icon>
                </button> {{ post.postVote.voteCount }}
                <button mat-icon-button color="accent">
                    <mat-icon>expand_more</mat-icon>
                </button>
                <button class="btn-inactive" mat-button color="primary" routerLink="/details/{{post.postId}}" fragment="comments">Comments</button>
                <button class="btn-inactive" mat-button color="accent">Share</button>
            </div>
            <div>
                <button mat-button disabled>{{ post.viewsCount | shortNumber}} Views</button>
                <button mat-button disabled>6 hours ago</button>
            </div>
        </mat-card-actions>
    </mat-card>
</section> -->